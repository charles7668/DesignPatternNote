# 觀察者模式(Observer Pattern)

## 定義

定義一個對像間一對多的依賴關係，當被依賴的對像發生改變時，所有依賴它的對像都將得到通知並更新

## 模式詳解

有一個被觀察者類與多個觀察者類，觀察者類可根據需求訂閱或取消訂閱被觀察者類，當改變被觀察者類的狀態時，所有已訂閱的觀察者會收到通知，並更新各自的狀態

觀察者收到通知的方式又分為兩種類型

- 推模式
  > 被觀察者主動發送特定的訊息給觀察者
- 拉模式
  > 被觀察者只通知觀察者狀態改變，並將自已做為引用傳給觀察者，觀察者需要自己根據需求去取得被觀察者的狀態

### 結構示意圖

- 拉模式 (Pull Mechanism)

![observer push diagram.jpg](Image/observer%20pull%20diagram.jpg)

- 推模式 (Push Mechanism)

![observer push diagram.jpg](Image/observer%20push%20diagram.jpg)

## 埸景問題與示例

多個訂閱者向郵局訂閱報紙，郵局會在收到發行商的報紙後向這些訂閱者通知或發送報紙
